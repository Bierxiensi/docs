<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ã€axiosæºç ã€‘- å–æ¶ˆè¯·æ±‚cancelæ¨¡å—ç ”è¯»è§£æ | å¤§å‰ç«¯å·¥ç¨‹å¸ˆæˆé•¿è·¯çº¿</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="åšå®¢ åˆ†äº« ç¬”è®° è§„åˆ’ ">
    
    <link rel="preload" href="/docs/assets/css/0.styles.8e9f036c.css" as="style"><link rel="preload" href="/docs/assets/js/app.94b39639.js" as="script"><link rel="preload" href="/docs/assets/js/2.76afec17.js" as="script"><link rel="preload" href="/docs/assets/js/121.36dab76a.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.64049170.js"><link rel="prefetch" href="/docs/assets/js/100.dd1cca3c.js"><link rel="prefetch" href="/docs/assets/js/101.cdd50df5.js"><link rel="prefetch" href="/docs/assets/js/102.5210e26f.js"><link rel="prefetch" href="/docs/assets/js/103.eb756fd5.js"><link rel="prefetch" href="/docs/assets/js/104.1229887c.js"><link rel="prefetch" href="/docs/assets/js/105.f0ff66e7.js"><link rel="prefetch" href="/docs/assets/js/106.48d9f073.js"><link rel="prefetch" href="/docs/assets/js/107.275da6d8.js"><link rel="prefetch" href="/docs/assets/js/108.408ba7cb.js"><link rel="prefetch" href="/docs/assets/js/109.2330bb70.js"><link rel="prefetch" href="/docs/assets/js/11.bd20babd.js"><link rel="prefetch" href="/docs/assets/js/110.d0bb9e94.js"><link rel="prefetch" href="/docs/assets/js/111.02fd143e.js"><link rel="prefetch" href="/docs/assets/js/112.2fcbaf7c.js"><link rel="prefetch" href="/docs/assets/js/113.f7451943.js"><link rel="prefetch" href="/docs/assets/js/114.0aef5d7e.js"><link rel="prefetch" href="/docs/assets/js/115.f716492f.js"><link rel="prefetch" href="/docs/assets/js/116.7761e546.js"><link rel="prefetch" href="/docs/assets/js/117.62104f62.js"><link rel="prefetch" href="/docs/assets/js/118.3537fba6.js"><link rel="prefetch" href="/docs/assets/js/119.a3e1b948.js"><link rel="prefetch" href="/docs/assets/js/12.acef1ad3.js"><link rel="prefetch" href="/docs/assets/js/120.512d3a45.js"><link rel="prefetch" href="/docs/assets/js/122.5002b723.js"><link rel="prefetch" href="/docs/assets/js/123.9f11a15e.js"><link rel="prefetch" href="/docs/assets/js/124.8314ec7f.js"><link rel="prefetch" href="/docs/assets/js/125.219d7f16.js"><link rel="prefetch" href="/docs/assets/js/126.976f1303.js"><link rel="prefetch" href="/docs/assets/js/127.fe7f2060.js"><link rel="prefetch" href="/docs/assets/js/128.76cd6359.js"><link rel="prefetch" href="/docs/assets/js/129.baaca83c.js"><link rel="prefetch" href="/docs/assets/js/13.1530fbbe.js"><link rel="prefetch" href="/docs/assets/js/130.99b9937a.js"><link rel="prefetch" href="/docs/assets/js/131.3489f2b6.js"><link rel="prefetch" href="/docs/assets/js/132.7414008f.js"><link rel="prefetch" href="/docs/assets/js/133.6a477779.js"><link rel="prefetch" href="/docs/assets/js/134.6a6ed5f0.js"><link rel="prefetch" href="/docs/assets/js/135.0926b2b5.js"><link rel="prefetch" href="/docs/assets/js/136.940aa1b3.js"><link rel="prefetch" href="/docs/assets/js/137.e251b84c.js"><link rel="prefetch" href="/docs/assets/js/138.5af41670.js"><link rel="prefetch" href="/docs/assets/js/139.84f95936.js"><link rel="prefetch" href="/docs/assets/js/14.b1a2320e.js"><link rel="prefetch" href="/docs/assets/js/140.ecada68e.js"><link rel="prefetch" href="/docs/assets/js/141.5d1c1229.js"><link rel="prefetch" href="/docs/assets/js/142.eee979a4.js"><link rel="prefetch" href="/docs/assets/js/143.01add7b2.js"><link rel="prefetch" href="/docs/assets/js/144.8a9cbb91.js"><link rel="prefetch" href="/docs/assets/js/145.6b459ea9.js"><link rel="prefetch" href="/docs/assets/js/146.1e95cd21.js"><link rel="prefetch" href="/docs/assets/js/147.efb6801c.js"><link rel="prefetch" href="/docs/assets/js/148.c07a025c.js"><link rel="prefetch" href="/docs/assets/js/149.2db1daa2.js"><link rel="prefetch" href="/docs/assets/js/15.d20d3145.js"><link rel="prefetch" href="/docs/assets/js/150.2320c3a6.js"><link rel="prefetch" href="/docs/assets/js/151.bed6ef26.js"><link rel="prefetch" href="/docs/assets/js/152.d834f76e.js"><link rel="prefetch" href="/docs/assets/js/153.8ea5aa64.js"><link rel="prefetch" href="/docs/assets/js/154.b48e69a0.js"><link rel="prefetch" href="/docs/assets/js/155.bce89d8c.js"><link rel="prefetch" href="/docs/assets/js/156.31f98da2.js"><link rel="prefetch" href="/docs/assets/js/157.4e1c5d43.js"><link rel="prefetch" href="/docs/assets/js/158.418b4c1e.js"><link rel="prefetch" href="/docs/assets/js/159.4f420dab.js"><link rel="prefetch" href="/docs/assets/js/16.84ad4cf9.js"><link rel="prefetch" href="/docs/assets/js/160.51b0427d.js"><link rel="prefetch" href="/docs/assets/js/161.34fa2b09.js"><link rel="prefetch" href="/docs/assets/js/162.f26fa746.js"><link rel="prefetch" href="/docs/assets/js/163.a18dd90e.js"><link rel="prefetch" href="/docs/assets/js/164.6fa4a900.js"><link rel="prefetch" href="/docs/assets/js/165.a7c5a3ff.js"><link rel="prefetch" href="/docs/assets/js/166.f0b83042.js"><link rel="prefetch" href="/docs/assets/js/167.292780aa.js"><link rel="prefetch" href="/docs/assets/js/168.4eefd91f.js"><link rel="prefetch" href="/docs/assets/js/169.d96e4ac2.js"><link rel="prefetch" href="/docs/assets/js/17.9b7ff467.js"><link rel="prefetch" href="/docs/assets/js/170.d5646d37.js"><link rel="prefetch" href="/docs/assets/js/171.adb8fc47.js"><link rel="prefetch" href="/docs/assets/js/172.753b2844.js"><link rel="prefetch" href="/docs/assets/js/173.d7a64d92.js"><link rel="prefetch" href="/docs/assets/js/174.a5b3c59b.js"><link rel="prefetch" href="/docs/assets/js/175.0c77f908.js"><link rel="prefetch" href="/docs/assets/js/176.ea206798.js"><link rel="prefetch" href="/docs/assets/js/177.8efed05b.js"><link rel="prefetch" href="/docs/assets/js/178.d4596432.js"><link rel="prefetch" href="/docs/assets/js/179.e6714e90.js"><link rel="prefetch" href="/docs/assets/js/18.9664df50.js"><link rel="prefetch" href="/docs/assets/js/180.b7f539b6.js"><link rel="prefetch" href="/docs/assets/js/181.056fcc7a.js"><link rel="prefetch" href="/docs/assets/js/182.15b285f9.js"><link rel="prefetch" href="/docs/assets/js/183.186493b9.js"><link rel="prefetch" href="/docs/assets/js/184.54de7b4c.js"><link rel="prefetch" href="/docs/assets/js/185.2b2021fd.js"><link rel="prefetch" href="/docs/assets/js/186.4e088784.js"><link rel="prefetch" href="/docs/assets/js/187.6087a4e3.js"><link rel="prefetch" href="/docs/assets/js/188.914af9b3.js"><link rel="prefetch" href="/docs/assets/js/189.195080e9.js"><link rel="prefetch" href="/docs/assets/js/19.e0b7d897.js"><link rel="prefetch" href="/docs/assets/js/190.9afe3a61.js"><link rel="prefetch" href="/docs/assets/js/191.54c05c70.js"><link rel="prefetch" href="/docs/assets/js/192.2da00714.js"><link rel="prefetch" href="/docs/assets/js/193.5742b404.js"><link rel="prefetch" href="/docs/assets/js/194.1676d51a.js"><link rel="prefetch" href="/docs/assets/js/20.2a0397e4.js"><link rel="prefetch" href="/docs/assets/js/21.9bb9c4ab.js"><link rel="prefetch" href="/docs/assets/js/22.46437f0c.js"><link rel="prefetch" href="/docs/assets/js/23.0ce76941.js"><link rel="prefetch" href="/docs/assets/js/24.9b02bb60.js"><link rel="prefetch" href="/docs/assets/js/25.1a0f8c16.js"><link rel="prefetch" href="/docs/assets/js/26.958642ab.js"><link rel="prefetch" href="/docs/assets/js/27.8615210e.js"><link rel="prefetch" href="/docs/assets/js/28.4cf2c45a.js"><link rel="prefetch" href="/docs/assets/js/29.2ac725fc.js"><link rel="prefetch" href="/docs/assets/js/3.d3b6eea9.js"><link rel="prefetch" href="/docs/assets/js/30.9300744f.js"><link rel="prefetch" href="/docs/assets/js/31.9ab467b3.js"><link rel="prefetch" href="/docs/assets/js/32.7397c323.js"><link rel="prefetch" href="/docs/assets/js/33.a0cf2637.js"><link rel="prefetch" href="/docs/assets/js/34.d61e1231.js"><link rel="prefetch" href="/docs/assets/js/35.4cee926c.js"><link rel="prefetch" href="/docs/assets/js/36.8e50ef5f.js"><link rel="prefetch" href="/docs/assets/js/37.9c87dce8.js"><link rel="prefetch" href="/docs/assets/js/38.b730aca9.js"><link rel="prefetch" href="/docs/assets/js/39.f42e7ac1.js"><link rel="prefetch" href="/docs/assets/js/4.d378cb7e.js"><link rel="prefetch" href="/docs/assets/js/40.21bac2d8.js"><link rel="prefetch" href="/docs/assets/js/41.3df23d9f.js"><link rel="prefetch" href="/docs/assets/js/42.b658ecc6.js"><link rel="prefetch" href="/docs/assets/js/43.f46e461e.js"><link rel="prefetch" href="/docs/assets/js/44.ed2a9ef8.js"><link rel="prefetch" href="/docs/assets/js/45.3b8ed15e.js"><link rel="prefetch" href="/docs/assets/js/46.7b5589f3.js"><link rel="prefetch" href="/docs/assets/js/47.d589d707.js"><link rel="prefetch" href="/docs/assets/js/48.1da7df07.js"><link rel="prefetch" href="/docs/assets/js/49.a4005952.js"><link rel="prefetch" href="/docs/assets/js/5.00b262d0.js"><link rel="prefetch" href="/docs/assets/js/50.6f366509.js"><link rel="prefetch" href="/docs/assets/js/51.0b1f7508.js"><link rel="prefetch" href="/docs/assets/js/52.04158d6d.js"><link rel="prefetch" href="/docs/assets/js/53.8ffbb93a.js"><link rel="prefetch" href="/docs/assets/js/54.ec719dcb.js"><link rel="prefetch" href="/docs/assets/js/55.3c3726fe.js"><link rel="prefetch" href="/docs/assets/js/56.b25caaff.js"><link rel="prefetch" href="/docs/assets/js/57.618c18f5.js"><link rel="prefetch" href="/docs/assets/js/58.e00bda15.js"><link rel="prefetch" href="/docs/assets/js/59.1e010f25.js"><link rel="prefetch" href="/docs/assets/js/6.f5f38eea.js"><link rel="prefetch" href="/docs/assets/js/60.b15808f5.js"><link rel="prefetch" href="/docs/assets/js/61.fdc6b78e.js"><link rel="prefetch" href="/docs/assets/js/62.60b704a4.js"><link rel="prefetch" href="/docs/assets/js/63.47e652e9.js"><link rel="prefetch" href="/docs/assets/js/64.f99fe8c5.js"><link rel="prefetch" href="/docs/assets/js/65.4db4e87e.js"><link rel="prefetch" href="/docs/assets/js/66.588a809b.js"><link rel="prefetch" href="/docs/assets/js/67.43cedc92.js"><link rel="prefetch" href="/docs/assets/js/68.0e353abf.js"><link rel="prefetch" href="/docs/assets/js/69.2e7aa4a1.js"><link rel="prefetch" href="/docs/assets/js/7.cd57a54e.js"><link rel="prefetch" href="/docs/assets/js/70.45edc6f2.js"><link rel="prefetch" href="/docs/assets/js/71.8d435855.js"><link rel="prefetch" href="/docs/assets/js/72.2dd55d77.js"><link rel="prefetch" href="/docs/assets/js/73.12d57bc7.js"><link rel="prefetch" href="/docs/assets/js/74.317ea09a.js"><link rel="prefetch" href="/docs/assets/js/75.5633de27.js"><link rel="prefetch" href="/docs/assets/js/76.1f02e44e.js"><link rel="prefetch" href="/docs/assets/js/77.5e88da18.js"><link rel="prefetch" href="/docs/assets/js/78.9cf48658.js"><link rel="prefetch" href="/docs/assets/js/79.cf1334fe.js"><link rel="prefetch" href="/docs/assets/js/8.de8abaeb.js"><link rel="prefetch" href="/docs/assets/js/80.d9f20419.js"><link rel="prefetch" href="/docs/assets/js/81.dfcc1189.js"><link rel="prefetch" href="/docs/assets/js/82.b171602c.js"><link rel="prefetch" href="/docs/assets/js/83.d01eca38.js"><link rel="prefetch" href="/docs/assets/js/84.09f77d84.js"><link rel="prefetch" href="/docs/assets/js/85.ef3698e2.js"><link rel="prefetch" href="/docs/assets/js/86.9c44181e.js"><link rel="prefetch" href="/docs/assets/js/87.f58ed969.js"><link rel="prefetch" href="/docs/assets/js/88.2a96e1fd.js"><link rel="prefetch" href="/docs/assets/js/89.aeb088ab.js"><link rel="prefetch" href="/docs/assets/js/9.8db69a38.js"><link rel="prefetch" href="/docs/assets/js/90.32a883ed.js"><link rel="prefetch" href="/docs/assets/js/91.f2011ce8.js"><link rel="prefetch" href="/docs/assets/js/92.998023e0.js"><link rel="prefetch" href="/docs/assets/js/93.7c498a57.js"><link rel="prefetch" href="/docs/assets/js/94.bc5970b6.js"><link rel="prefetch" href="/docs/assets/js/95.dc60a529.js"><link rel="prefetch" href="/docs/assets/js/96.41b7d263.js"><link rel="prefetch" href="/docs/assets/js/97.81eedf62.js"><link rel="prefetch" href="/docs/assets/js/98.2642cb83.js"><link rel="prefetch" href="/docs/assets/js/99.c63d8a70.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.8e9f036c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/images/home/balu.jpg" alt="å¤§å‰ç«¯å·¥ç¨‹å¸ˆæˆé•¿è·¯çº¿" class="logo"> <span class="site-name can-hide">å¤§å‰ç«¯å·¥ç¨‹å¸ˆæˆé•¿è·¯çº¿</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¯»ç ”ç”Ÿæ¶¯" class="dropdown-title"><span class="title">è¯»ç ”ç”Ÿæ¶¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="è¯»ç ”ç”Ÿæ¶¯" class="mobile-dropdown-title"><span class="title">è¯»ç ”ç”Ÿæ¶¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/PostGraduate/Explore/" class="nav-link">
  æ¢ç´¢ä¸è®°å½•
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¡ç®—æœºåŸºç¡€" class="dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="è®¡ç®—æœºåŸºç¡€" class="mobile-dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/CS/Algorithm/" class="nav-link">
  æ•°æ®ç»“æ„ä¸ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/docs/CS/ComputerComposition/" class="nav-link">
  è®¡ç®—æœºç»„æˆåŸç†
</a></li><li class="dropdown-item"><!----> <a href="/docs/CS/ComputerNetworks/" class="nav-link">
  è®¡ç®—æœºç½‘ç»œ
</a></li><li class="dropdown-item"><!----> <a href="/docs/CS/OperatingSystem/" class="nav-link">
  æ“ä½œç³»ç»Ÿ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯" class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯" class="mobile-dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/Web/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/Gis/" class="nav-link">
  Gis
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/App/" class="nav-link">
  App
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/Desktop/" class="nav-link">
  æ¡Œé¢åº”ç”¨
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/WxApp/" class="nav-link">
  å°ç¨‹åº
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åç«¯" class="dropdown-title"><span class="title">åç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="åç«¯" class="mobile-dropdown-title"><span class="title">åç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/BackEnd/Koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/docs/BackEnd/Nest/" class="nav-link">
  Nest
</a></li><li class="dropdown-item"><!----> <a href="/docs/BackEnd/Node/" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥ç¨‹åŒ–" class="dropdown-title"><span class="title">å·¥ç¨‹åŒ–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å·¥ç¨‹åŒ–" class="mobile-dropdown-title"><span class="title">å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/SoftwareEnginner/" class="nav-link">
  è½¯ä»¶å·¥ç¨‹
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Develop/" class="nav-link">
  å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Build/" class="nav-link">
  æ„å»º
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Deploy/" class="nav-link">
  éƒ¨ç½²
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Performance/" class="nav-link">
  æ€§èƒ½
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Norm/" class="nav-link">
  è§„èŒƒ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¯»æºç " class="dropdown-title"><span class="title">è¯»æºç </span> <span class="arrow down"></span></button> <button type="button" aria-label="è¯»æºç " class="mobile-dropdown-title"><span class="title">è¯»æºç </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/SourceCode/Axios/" class="nav-link router-link-active">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/docs/SourceCode/Lodash/" class="nav-link">
  Lodash
</a></li><li class="dropdown-item"><!----> <a href="/docs/SourceCode/React/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–" class="mobile-dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/Others/Question/" class="nav-link">
  é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/BlockChain/" class="nav-link">
  åŒºå—é“¾
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/English/" class="nav-link">
  è‹±è¯­
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/StudySource/" class="nav-link">
  å­¦ä¹ èµ„æº
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/JsTricks/" class="nav-link">
  Js Tricks
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/CssTricks/" class="nav-link">
  Css Tricks
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/DevelopSkills/" class="nav-link">
  å¼€å‘æŠ€å·§
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/Note/" class="nav-link">
  å¤‡å¿˜å½•
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bierxiensi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¯»ç ”ç”Ÿæ¶¯" class="dropdown-title"><span class="title">è¯»ç ”ç”Ÿæ¶¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="è¯»ç ”ç”Ÿæ¶¯" class="mobile-dropdown-title"><span class="title">è¯»ç ”ç”Ÿæ¶¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/PostGraduate/Explore/" class="nav-link">
  æ¢ç´¢ä¸è®°å½•
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è®¡ç®—æœºåŸºç¡€" class="dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="è®¡ç®—æœºåŸºç¡€" class="mobile-dropdown-title"><span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/CS/Algorithm/" class="nav-link">
  æ•°æ®ç»“æ„ä¸ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/docs/CS/ComputerComposition/" class="nav-link">
  è®¡ç®—æœºç»„æˆåŸç†
</a></li><li class="dropdown-item"><!----> <a href="/docs/CS/ComputerNetworks/" class="nav-link">
  è®¡ç®—æœºç½‘ç»œ
</a></li><li class="dropdown-item"><!----> <a href="/docs/CS/OperatingSystem/" class="nav-link">
  æ“ä½œç³»ç»Ÿ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯" class="dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯" class="mobile-dropdown-title"><span class="title">å‰ç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/Web/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/Gis/" class="nav-link">
  Gis
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/App/" class="nav-link">
  App
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/Desktop/" class="nav-link">
  æ¡Œé¢åº”ç”¨
</a></li><li class="dropdown-item"><!----> <a href="/docs/Web/WxApp/" class="nav-link">
  å°ç¨‹åº
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åç«¯" class="dropdown-title"><span class="title">åç«¯</span> <span class="arrow down"></span></button> <button type="button" aria-label="åç«¯" class="mobile-dropdown-title"><span class="title">åç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/BackEnd/Koa/" class="nav-link">
  Koa
</a></li><li class="dropdown-item"><!----> <a href="/docs/BackEnd/Nest/" class="nav-link">
  Nest
</a></li><li class="dropdown-item"><!----> <a href="/docs/BackEnd/Node/" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥ç¨‹åŒ–" class="dropdown-title"><span class="title">å·¥ç¨‹åŒ–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å·¥ç¨‹åŒ–" class="mobile-dropdown-title"><span class="title">å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/SoftwareEnginner/" class="nav-link">
  è½¯ä»¶å·¥ç¨‹
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Develop/" class="nav-link">
  å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Build/" class="nav-link">
  æ„å»º
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Deploy/" class="nav-link">
  éƒ¨ç½²
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Performance/" class="nav-link">
  æ€§èƒ½
</a></li><li class="dropdown-item"><!----> <a href="/docs/FrontEndEngineering/Norm/" class="nav-link">
  è§„èŒƒ
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¯»æºç " class="dropdown-title"><span class="title">è¯»æºç </span> <span class="arrow down"></span></button> <button type="button" aria-label="è¯»æºç " class="mobile-dropdown-title"><span class="title">è¯»æºç </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/SourceCode/Axios/" class="nav-link router-link-active">
  Axios
</a></li><li class="dropdown-item"><!----> <a href="/docs/SourceCode/Lodash/" class="nav-link">
  Lodash
</a></li><li class="dropdown-item"><!----> <a href="/docs/SourceCode/React/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶ä»–" class="mobile-dropdown-title"><span class="title">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/Others/Question/" class="nav-link">
  é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/BlockChain/" class="nav-link">
  åŒºå—é“¾
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/English/" class="nav-link">
  è‹±è¯­
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/StudySource/" class="nav-link">
  å­¦ä¹ èµ„æº
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/JsTricks/" class="nav-link">
  Js Tricks
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/CssTricks/" class="nav-link">
  Css Tricks
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/DevelopSkills/" class="nav-link">
  å¼€å‘æŠ€å·§
</a></li><li class="dropdown-item"><!----> <a href="/docs/Others/Note/" class="nav-link">
  å¤‡å¿˜å½•
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bierxiensi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Axios</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/SourceCode/Axios/" aria-current="page" class="sidebar-link">Axios</a></li><li><a href="/docs/SourceCode/Axios/Utils.html" class="sidebar-link">Axioså·¥å…·å‡½æ•°</a></li><li><a href="/docs/SourceCode/Axios/Default.html" class="sidebar-link">Axioså®ä¾‹åŒ–é…ç½®å‡½æ•°</a></li><li><a href="/docs/SourceCode/Axios/Default.html" class="sidebar-link">è¿‡åº¦é€‰é¡¹æ ¡éªŒå‡½æ•°Validatorç ”è¯»è§£æ</a></li><li><a href="/docs/SourceCode/Axios/Cancel.html" aria-current="page" class="active sidebar-link">å–æ¶ˆè¯·æ±‚cancelæ¨¡å—ç ”è¯»è§£æ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/SourceCode/Axios/Cancel.html#_1-cancel-ç±»" class="sidebar-link">1. Cancel ç±»</a></li><li class="sidebar-sub-header"><a href="/docs/SourceCode/Axios/Cancel.html#_2-iscancel-å‡½æ•°" class="sidebar-link">2. isCancel å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/docs/SourceCode/Axios/Cancel.html#_3-canceltoken-ç±»" class="sidebar-link">3. CancelToken ç±»</a></li></ul></li><li><a href="/docs/SourceCode/Axios/DispatchRequest.html" class="sidebar-link">è¯·æ±‚åˆ†å‘å‡½æ•°DispatchRequestç ”è¯»è§£æ</a></li><li><a href="/docs/SourceCode/Axios/Helper.html" class="sidebar-link">é€‚é…å™¨ä¸­çš„è¾…åŠ©å‡½æ•°helperç ”è¯»è§£æ</a></li><li><a href="/docs/SourceCode/Axios/Core.html" class="sidebar-link">é€‚é…å™¨ä¸­çš„æ ¸å¿ƒå‡½æ•°coreç ”è¯»è§£æ</a></li><li><a href="/docs/SourceCode/Axios/Xhr.html" class="sidebar-link">æµè§ˆå™¨ç«¯é€‚é…å™¨xhrç ”è¯»è§£æ</a></li><li><a href="/docs/SourceCode/Axios/Http1.html" class="sidebar-link">ã€axios æºç ã€‘- nodeé€‚é…å™¨ http ç ”è¯»è§£æã€ä¸Šã€‘</a></li><li><a href="/docs/SourceCode/Axios/Http2.html" class="sidebar-link">ã€axios æºç ã€‘- nodeé€‚é…å™¨ http ç ”è¯»è§£æã€ä¸‹ã€‘</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>åŸºäº TC39 çš„ <a href="https://github.com/tc39/proposal-cancelable-promises" target="_blank" rel="noopener noreferrer">cancelable promises proposal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æè®®å°è£…ï¼Œä½†æ˜¯è¿™ä¸ªæè®®å·²ç»è¢«å‘èµ·äººè‡ªå·±å–æ¶ˆäº†ï¼Œæ®è¯´æ˜¯å› ä¸º Google å†…éƒ¨åå¯¹æ„è§å¾ˆå¤§ï¼Œè¯¦æƒ…å¯ä»¥åˆ°ç›¸å…³ issue<a href="https://github.com/tc39/proposal-cancelable-promises/issues/70" target="_blank" rel="noopener noreferrer">Why was this proposal withdrawn?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çœ‹ä¸€ä¸‹ã€‚</p></blockquote> <h1 id="ä¸€ã€ç¯å¢ƒå‡†å¤‡"><a href="#ä¸€ã€ç¯å¢ƒå‡†å¤‡" class="header-anchor">#</a> ä¸€ã€ç¯å¢ƒå‡†å¤‡</h1> <ul><li><p><code>axios</code> ç‰ˆæœ¬ <code>v0.24.0</code></p></li> <li><p>é€šè¿‡ <code>github1s</code> ç½‘é¡µå¯ä»¥ <a href="https://github1s.com/axios/axios/blob/HEAD/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">æŸ¥çœ‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> axios æºç </p></li> <li><p>è°ƒè¯•éœ€è¦ <code>clone</code> åˆ°æœ¬åœ°</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">git</span> clone https://github.com/axios/axios.git

<span class="token builtin class-name">cd</span> axios

<span class="token function">npm</span> start

http://localhost:3000/
</code></pre></div><h1 id="äºŒã€å‡½æ•°ç ”è¯»"><a href="#äºŒã€å‡½æ•°ç ”è¯»" class="header-anchor">#</a> äºŒã€å‡½æ•°ç ”è¯»</h1> <blockquote><p><code>cancel</code> æ¨¡å—åŒ…å«ä¸‰ä¸ªæ–‡ä»¶<code>Cancel</code>ã€<code>CancelToken</code>ã€<code>isCancel</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>â”œâ”€cancel <span class="token comment">// å–æ¶ˆè¯·æ±‚</span>
â”‚   Cancel<span class="token punctuation">.</span>js
â”‚   CancelToken<span class="token punctuation">.</span>js
â”‚   isCancel<span class="token punctuation">.</span>js
</code></pre></div><h2 id="_1-cancel-ç±»"><a href="#_1-cancel-ç±»" class="header-anchor">#</a> 1. Cancel ç±»</h2> <blockquote><p>A <code>Cancel</code> is an object that is thrown when an operation is canceled.
å½“æ“ä½œè¢«å–æ¶ˆæ—¶ä¼šæŠ›å‡ºä¸€ä¸ª <code>Cancel</code> å¯¹è±¡</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * A `Cancel` is an object that is thrown when an operation is canceled.
 *
 * @class
 * @param {string=} message The message.
 */</span>
<span class="token keyword">function</span> <span class="token function">Cancel</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Cancel</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Cancel&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">?</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Cancel</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__CANCEL__ <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Cancel<span class="token punctuation">;</span>
</code></pre></div><ul><li>åªæœ‰ 8 è¡Œä»£ç ï¼Œå®ç°äº†ä¸€ä¸ª<code>Cancel</code> ç±»</li> <li>åŒ…å«ä¸€ä¸ªåŸå‹æ–¹æ³• <code>toString</code> ï¼Œä¸€ä¸ªå®ä¾‹å±æ€§<code>__CANCEL__</code></li> <li>å®ä¾‹å±æ€§<code>__CANCEL__</code>è¢«è®¾å®šä¸º <code>true</code>ï¼Œæ˜¯ Cancel ç±»çš„æ ‡å¿—</li></ul> <p>Tipsï¼šæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªè¯·æ±‚ä¼šæœ‰ä¸‰ç§çŠ¶æ€<code>è¯·æ±‚å‰</code>ã€<code>è¯·æ±‚ä¸­</code>ã€<code>è¯·æ±‚ç»“æŸ</code>ï¼Œå–æ¶ˆåŠ¨ä½œå¯èƒ½å‘ç”Ÿåœ¨å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªé˜¶æ®µã€‚ä¸åŒé˜¶æ®µå¯¹åº”çš„å–æ¶ˆé€»è¾‘åœ¨<code>axios</code>ä¸­æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸”åœ¨<code>è¯·æ±‚ä¸­</code>è¿™ä¸ªé˜¶æ®µï¼Œå‡½æ•°æ‰§è¡Œçš„é€»è¾‘ä½ç½®ä¹Ÿä¸ä¸€æ ·ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å‘èµ·å–æ¶ˆè¯·æ±‚æ—¶ï¼Œ<code>axios</code>éœ€è¦ä¸€ç§æœºåˆ¶è·çŸ¥å½“å‰ç½‘ç»œè¯·æ±‚èµ°åˆ°äº†å“ªä¸ªé˜¶æ®µçš„å“ªä¸ªä½ç½®æ‰èƒ½æ‰§è¡Œå¯¹åº”çš„å–æ¶ˆå’Œè¿”å›é€»è¾‘ï¼Œ<code>Cancel</code> ç±»å°±æ˜¯è¿™æ ·ä¸€ä¸ªæœºåˆ¶ã€‚</p> <h2 id="_2-iscancel-å‡½æ•°"><a href="#_2-iscancel-å‡½æ•°" class="header-anchor">#</a> 2. isCancel å‡½æ•°</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">isCancel</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>value <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>__CANCEL__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>åªæœ‰ 3 è¡Œä»£ç ï¼Œé€šè¿‡ <code>Cancel</code> çš„å®ä¾‹å±æ€§<code>__CANCEL__</code> æ¥åˆ¤æ–­<code>value</code>æ˜¯å¦ä¸º <code>Cancel</code> å®ä¾‹</li> <li>å¯¼å‡ºä¸€ä¸ª <code>isCancel</code> å‡½æ•°ï¼Œå¦‚æœå…¥å‚ <code>val</code> ä¸æ˜¯ <code>Cancel</code>ç±»ä¼šè¿”å› <code>false</code>ï¼Œå¦åˆ™è¿”å› <code>true</code></li></ul> <h2 id="_3-canceltoken-ç±»"><a href="#_3-canceltoken-ç±»" class="header-anchor">#</a> 3. CancelToken ç±»</h2> <blockquote><p>A <code>CancelToken</code> is an object that can be used to request cancellation of an operation.
<code>CancelToken</code> æ˜¯è¢«ç”¨äºå–æ¶ˆè¯·æ±‚æ“ä½œçš„ç±»</p></blockquote> <blockquote><p>å‚è€ƒæ–‡ç« <code>æ—æ™¯å®œçš„è®°äº‹æœ¬</code>æåˆ°è¿™æ˜¯ä¸€ä¸ª<code>è®©äººä¸€å¤´é›¾æ°´</code>çš„ç±»ï¼Œåˆšçœ‹çš„æ—¶å€™ç¬”è€…ä¹Ÿæœ‰åŒæ„Ÿï¼Œè™½ç„¶ç»è¿‡ä¸€äº›å‰–æç¬”è€…å·²ç»åˆ†æçš„å°½å¯èƒ½è¯¦ç»†ï¼ˆè‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½ ğŸ¶ï¼‰ï¼Œä½†åœ¨è§‚çœ‹ä¹‹å‰è¿˜æ˜¯æ¨èä¸äº†è§£è®¾è®¡æ¨¡å¼çš„å°ä¼™ä¼´å»äº†è§£ä¸€ä¸‹å…¶ä¸­çš„<code>å‘å¸ƒ/è®¢é˜…</code>æ¨¡å¼ï¼Œä¼šæœ‰åŠ©äºç†è§£</p></blockquote> <h3 id="ã€2-1ã€‘-å¼•å…¥-cancel-ç±»"><a href="#ã€2-1ã€‘-å¼•å…¥-cancel-ç±»" class="header-anchor">#</a> ã€2.1ã€‘ å¼•å…¥ Cancel ç±»</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Cancel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./Cancel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ã€2-2ã€‘-å†…éƒ¨å‡½æ•°-canceltoken"><a href="#ã€2-2ã€‘-å†…éƒ¨å‡½æ•°-canceltoken" class="header-anchor">#</a> ã€2.2ã€‘ å†…éƒ¨å‡½æ•° CancelToken</h3> <blockquote><p>ä¸¤æ®µ<code>this.promise.then</code>å¹¶ä¸æ˜¯å–æ¶ˆé€»è¾‘ï¼Œæš‚æ—¶å…ˆå¿½ç•¥</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @class
 * @param {Function} executor The executor function.
 */</span>
<span class="token keyword">function</span> <span class="token function">CancelToken</span><span class="token punctuation">(</span><span class="token parameter">executor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> executor <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;executor must be a function.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> resolvePromise<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">promiseExecutor</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resolvePromise <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> token <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

    <span class="token comment">// eslint-disable-next-line func-names</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cancel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">.</span>_listeners<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> i<span class="token punctuation">;</span>
        <span class="token keyword">var</span> l <span class="token operator">=</span> token<span class="token punctuation">.</span>_listeners<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            token<span class="token punctuation">.</span>_listeners<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span>cancel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        token<span class="token punctuation">.</span>_listeners <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// eslint-disable-next-line func-names</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>promise<span class="token punctuation">.</span><span class="token function-variable function">then</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">onfulfilled</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> _resolve<span class="token punctuation">;</span>
        <span class="token comment">// eslint-disable-next-line func-names</span>
        <span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            token<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _resolve <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>onfulfilled<span class="token punctuation">)</span><span class="token punctuation">;</span>

        promise<span class="token punctuation">.</span><span class="token function-variable function">cancel</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            token<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span>_resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">executor</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span>reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Cancellation has already been requested</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        token<span class="token punctuation">.</span>reason <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cancel</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolvePromise</span><span class="token punctuation">(</span>token<span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ¥ä¸‹æ¥æŒ‰è¡Œåˆ†æ</p> <ul><li><p>1. é¦–å…ˆåˆ¤æ–­å…¥å‚<code>executor</code>æ˜¯å¦æ˜¯ function ç±»å‹ï¼Œå¦‚æœä¸æ˜¯ä¼šæŠ›å‡ºç±»å‹é”™ TypeError</p> <ul><li>ä¸ºä»€ä¹ˆå…¥å‚<code>executor</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ</li> <li>ç­”ï¼š<code>CancelToken</code>é€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼æ¥å®ç°ä¼ é€’å–æ¶ˆä¿¡æ¯ï¼Œè®¢é˜…è€…æŠŠè‡ªå·±æƒ³è®¢é˜…çš„äº‹ä»¶<code>cancel/c</code>æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒ<code>CancelToken</code>ï¼Œå½“é€‚é…å™¨è¿”å›ä¿¡æ¯æ—¶å‘å¸ƒè€…å‘å¸ƒåˆ°è°ƒåº¦ä¸­å¿ƒ<code>CancelToken</code>ï¼Œè°ƒåº¦ä¸­å¿ƒå†ç»Ÿä¸€è°ƒåº¦æ‰§è¡Œè®¢é˜…è€…æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒçš„å¤„ç†ä»£ç <code>cancel</code>ã€‚è¿™ä¹Ÿå°±ç†è§£äº†è¿™ä¸ªå‡½æ•°ä¸ºä»€ä¹ˆå«<code>executor-æ‰§è¡Œå™¨</code>ã€‚</li></ul></li> <li><p>2. åˆ›å»ºå…¨å±€å˜é‡<code>resolvePromise</code></p> <ul><li>ä¸ºä»€ä¹ˆè¦åˆ›å»ºè¿™ä¸ªå˜é‡ï¼Ÿä¸ºä»€ä¹ˆè¦ä»¥å…¨å±€çš„æ–¹å¼åˆ›å»ºï¼Ÿ</li> <li>ç­”ï¼šä¸ºäº†æ‹¿åˆ°<code>resolve</code>ä¾¿äºåç»­çš„é“¾å¼è°ƒç”¨ï¼Œä¸”åªæœ‰å…¨å±€å˜é‡æ‰èƒ½<code>ç©¿è¿‡å‡½æ•°ä½œç”¨åŸŸ</code>æ‹¿åˆ° <code>resolve</code> å€¼</li></ul></li> <li><p>3. ä½¿ç”¨<code>new Promise()</code>åˆ›å»ºå‡½æ•°<code>promiseExecutor</code>çš„å®ä¾‹å¯¹è±¡ï¼Œè¡¨æ˜<code>executor</code>æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå…¶è¿”å›å€¼<code>resolve</code>ä¼ é€’ç»™å…¨å±€å˜é‡<code>resolvePromise</code>ï¼Œè°ƒç”¨æ—¶å¯ä½¿ç”¨<code>this.promise.then()</code>è·å–è¿”å›å€¼<code>resolve</code>æˆ–ç›´æ¥ä½¿ç”¨<code>resolvePromise</code></p> <ul><li>ä¸ºä»€ä¹ˆåˆ›å»º <code>promise</code> å¯¹è±¡?</li> <li>å› ä¸ºçœŸæ­£å–æ¶ˆè¯·æ±‚çš„åŠ¨ä½œ<code>request.abort()</code>åœ¨é€‚é…å™¨<code>xhr.js</code>æˆ–<code>http.js</code>é‡Œè§¦å‘ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„æ–¹æ³•ï¼Œå½“è¿™ä¸ªåŠ¨ä½œå‘ç”Ÿåæˆ‘ä»¬æ‰èƒ½åœ¨ <code>resolve</code> ä¸­æ‹¿åˆ°è¿”å›å€¼</li></ul></li> <li><p>4. åˆ›å»ºå…¨å±€å˜é‡<code>token</code>è¡¨ç¤ºå½“å‰<code>CancelToken</code>çš„å®ä¾‹</p></li> <li><p>5. <code>executor</code>æ‰§è¡Œå™¨æ‰§è¡Œè®¢é˜…è€…äº‹ä»¶<code>cancel</code> ï¼Œè¯¥æ–¹æ³•å…¥å‚<code>message</code>æ¥è‡ªç”¨æˆ·è°ƒç”¨æ—¶ä¼ å‚</p></li> <li><p>6. è®¢é˜…è€…äº‹ä»¶<code>cancel</code>åœ¨æ‰§è¡Œæ—¶é¦–å…ˆä¼šåˆ¤æ–­å®ä¾‹<code>token</code>æ˜¯å¦å­˜åœ¨<code>reason</code>å±æ€§å€¼ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥è¿”å›ï¼Œå¦åˆ™ä½¿ç”¨<code>new Cancel()</code>å£°æ˜ä¸€ä¸ª cancel ç±»ç»™<code>reason</code>èµ‹å€¼</p> <ul><li>ä¸ºä»€ä¹ˆç”¨<code>new Cancel()</code>å£°æ˜ä¸€ä¸ª cancel ç±»ç»™<code>reason</code>èµ‹å€¼ï¼Ÿ</li> <li>ç­”ï¼šè¿™æ ·<code>reason</code>çš„åŸå‹é“¾ä¸Šä¼šæŒ‚è½½ä¸€ä¸ª<code>__CANCEL__</code>è¡¨ç¤º cancel ç±»ï¼ŒåŒæ—¶é…åˆ<code>resolvePromise</code>æ‰§è¡Œä¼šæŠŠ<code>this.promise</code>å®ä¾‹çŠ¶æ€æ”¹ä¸º<code>fulfilled</code>ï¼Œè¿™æ„å‘³ç€æ˜¯ç”¨æˆ·ä¸»åŠ¨å–æ¶ˆè¯·æ±‚è¿”å›çš„ä¿¡æ¯è€Œéå› ä¸ºå…¶ä»–å¼‚å¸¸è¿”å›ï¼ˆä¼šæŠŠ<code>this.promise</code>å®ä¾‹çŠ¶æ€æ”¹ä¸º<code>reject</code>ï¼‰</li></ul></li></ul> <p><strong><code>CancelToken</code> æ„é€ å‡½æ•°å°±æ˜¯ä¸€ä¸ªå‘å¸ƒè®¢é˜…å‡½æ•°ï¼Œé€šè¿‡å‘å¸ƒè®¢é˜…è§¦å‘å‘å¤– <code>resolve</code> æˆ–è€…æŠ›å‡ºé”™è¯¯ï¼ˆ<code>reject</code>ï¼‰ï¼Œ<code>Promise</code> é“¾å¼ç»“æ„æˆåŠŸæ‹¿åˆ°<code>resolve</code>å€¼æˆ–è€… <code>catch</code> åˆ°é”™è¯¯åï¼Œä¼šè¿”å›ç”¨æˆ·çš„è¾“å…¥<code>message</code>æˆ–åœæ­¢ç»§ç»­æ‰§è¡Œå¹¶æ‰§è¡Œé”™è¯¯å›è°ƒã€‚</strong></p> <h3 id="ã€2-3ã€‘-æ·»åŠ åŸå‹æ–¹æ³•-throwifrequested"><a href="#ã€2-3ã€‘-æ·»åŠ åŸå‹æ–¹æ³•-throwifrequested" class="header-anchor">#</a> ã€2.3ã€‘ æ·»åŠ åŸå‹æ–¹æ³• throwIfRequested</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Throws a `Cancel` if cancellation has been requested.
 */</span>
<span class="token class-name">CancelToken</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">throwIfRequested</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">throwIfRequested</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>å¦‚æœå·²è§¦å‘å–æ¶ˆäº‹ä»¶ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªé”™è¯¯ä¿¡æ¯</li></ul> <h3 id="ã€2-4ã€‘-source"><a href="#ã€2-4ã€‘-source" class="header-anchor">#</a> ã€2.4ã€‘ source</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Returns an object that contains a new `CancelToken` and a function that, when called,
 * cancels the `CancelToken`.
 */</span>
CancelToken<span class="token punctuation">.</span><span class="token function-variable function">source</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cancel<span class="token punctuation">;</span>
    <span class="token keyword">var</span> token <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cancel <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">token</span><span class="token operator">:</span> token<span class="token punctuation">,</span>
        <span class="token literal-property property">cancel</span><span class="token operator">:</span> cancel<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>åˆå§‹åŒ–æ—¶è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ–°çš„<code>CancelToken</code>å¯¹è±¡ <code>token</code> å’Œå‡½æ•° <code>cancel</code></li> <li>æ‰§è¡Œæ—¶è®¢é˜…è€…ä¼šå°†è®¢é˜…äº‹ä»¶<code>c</code>æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒ<code>CancelToken</code>ï¼Œè°ƒåº¦ä¸­å¿ƒåœ¨æ‰§è¡Œå™¨<code>executor</code>ä¸­ç«‹å³æ‰§è¡Œè®¢é˜…è€…äº‹ä»¶</li> <li><code>cancel</code>å‡½æ•°é€šè¿‡<code>å…¨å±€ä½œç”¨åŸŸ</code>æ‹¿åˆ°<code>c</code>ï¼Œé€šè¿‡ <code>return</code> æš´éœ²ç»™ç”¨æˆ·ä¸€ä¸ªè®¢é˜…äº‹ä»¶çš„å…¥å£</li></ul> <h3 id="ã€2-5ã€‘-æ·»åŠ åŸå‹æ–¹æ³•-subscribe"><a href="#ã€2-5ã€‘-æ·»åŠ åŸå‹æ–¹æ³•-subscribe" class="header-anchor">#</a> ã€2.5ã€‘ æ·»åŠ åŸå‹æ–¹æ³• subscribe</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Subscribe to the cancel signal
 */</span>

<span class="token class-name">CancelToken</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">subscribe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token parameter">listener</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">listener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_listeners<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_listeners<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_listeners <span class="token operator">=</span> <span class="token punctuation">[</span>listener<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>æ·»åŠ è®¢é˜…æ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œè®¢é˜…äº‹ä»¶<code>cancel</code>è¢«æ‰§è¡Œæ—¶ï¼Œä¼šå‘å½“å‰å®ä¾‹çš„<code>_listeners</code>å±æ€§ä¸Šè¿½åŠ é“¾å¼è°ƒç”¨çš„è¿”å›å€¼</li></ul> <h3 id="ã€2-6ã€‘-æ·»åŠ åŸå‹æ–¹æ³•-unsubscribe"><a href="#ã€2-6ã€‘-æ·»åŠ åŸå‹æ–¹æ³•-unsubscribe" class="header-anchor">#</a> ã€2.6ã€‘ æ·»åŠ åŸå‹æ–¹æ³• unsubscribe</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * Unsubscribe from the cancel signal
 */</span>

<span class="token class-name">CancelToken</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unsubscribe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token parameter">listener</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_listeners<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_listeners<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_listeners<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>æ·»åŠ è®¢é˜…æ—¶çš„æ‰§è¡Œçš„å‡½æ•°ï¼Œè®¢é˜…äº‹ä»¶<code>cancel</code>è¢«æ‰§è¡Œæ—¶ï¼Œå¦‚æœæ˜¯é‡å¤å–æ¶ˆå°±ç§»é™¤å½“å‰å®ä¾‹çš„<code>_listeners</code>å±æ€§ä¸Šå¯¹åº”ä½ç½®çš„é“¾å¼è°ƒç”¨</li></ul> <h1 id="ä¸‰ã€å‚è€ƒ"><a href="#ä¸‰ã€å‚è€ƒ" class="header-anchor">#</a> ä¸‰ã€å‚è€ƒ</h1> <p>1. <code>ä»™å‡Œé˜</code>çš„æ–‡ç« <a href="https://blog.csdn.net/qq_39221436/article/details/120652086" target="_blank" rel="noopener noreferrer">è¯¦ç»† Axios æºç è§£è¯»<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>2. <code>æ—æ™¯å®œ</code>çš„æ–‡ç« <a href="https://linjingyi.cn/posts/fe9fb5af.html" target="_blank" rel="noopener noreferrer">æ—æ™¯å®œçš„è®°äº‹æœ¬ - Axios æºç è§£æï¼ˆäºŒï¼‰ï¼šé€šç”¨å·¥å…·æ–¹æ³•<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>3. <code>è‹¥å·</code>çš„æ–‡ç« <a href="https://juejin.cn/post/6844904019987529735#heading-26" target="_blank" rel="noopener noreferrer">å­¦ä¹  axios æºç æ•´ä½“æ¶æ„ï¼Œæ‰“é€ å±äºè‡ªå·±çš„è¯·æ±‚åº“<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>4. <code>æ°å‡Œ</code>çš„æ–‡ç« <a href="https://zhuanlan.zhihu.com/p/376289400" target="_blank" rel="noopener noreferrer">æ·±å…¥è§£è¯» axios æºç <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>5. <code>æµ·è§’åœ¨çœ¼å‰</code>çš„æ–‡ç« <a href="https://www.cnblogs.com/lovesong/p/5272752.html" target="_blank" rel="noopener noreferrer">è®¾è®¡æ¨¡å¼ï¼ˆä¸‰ï¼‰ï¼šè§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒ/è®¢é˜…æ¨¡å¼åŒºåˆ«<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/docs/SourceCode/Axios/Default.html" class="prev">
        è¿‡åº¦é€‰é¡¹æ ¡éªŒå‡½æ•°Validatorç ”è¯»è§£æ
      </a></span> <span class="next"><a href="/docs/SourceCode/Axios/DispatchRequest.html">
        è¯·æ±‚åˆ†å‘å‡½æ•°DispatchRequestç ”è¯»è§£æ
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.94b39639.js" defer></script><script src="/docs/assets/js/2.76afec17.js" defer></script><script src="/docs/assets/js/121.36dab76a.js" defer></script>
  </body>
</html>
